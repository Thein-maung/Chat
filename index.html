<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸŒŒ Quantum Entangled Chat</title>
  <link rel="manifest" href="/manifest.json" />
  <link rel="stylesheet" href="/styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/simple-peer@9.11.1/simplepeer.min.js"></script>
  <script src="https://unpkg.com/@zxing/library@0.20.0/umd/index.min.js"></script>
</head>
<body>
  <h1>ğŸŒŒ Quantum-Entangled AI Chat</h1>

  <div id="setup">
    <button onclick="createPair()">CREATE ENTANGLED PAIR</button>
    <button onclick="startScan()">BECOME QUANTUM TWIN</button>
  </div>

  <div id="qr-ui">
    <p>Scan this QR with your twin's camera</p>
    <div id="qr-code"></div>
  </div>

  <div id="scan-ui">
    <h3>Scan Quantum QR</h3>
    <video id="video" playsinline></video>
    <button onclick="cancelScan()">Cancel</button>
  </div>

  <div id="chat">
    <div id="messages"></div>
    <input id="msg-input" placeholder="Type a message..." />
    <button onclick="sendMsg()">Send</button>

    <div id="call-controls" style="display:none;">
      <button id="call-btn" onclick="startCall()">ğŸ“ Start Voice Call</button>
      <button id="hangup-btn" onclick="endCall()" style="display:none;">â¹ï¸ Hang Up</button>
    </div>
  </div>

  <audio id="remote-audio" autoplay playsinline></audio>
  <script src="/app.js"></script>
</body>
</html>